@tailwind base;
@tailwind components;
@tailwind utilities;

/* 조선궁서체 폰트 정의 */
@font-face {
  font-family: 'ChosunGsFont';
  src: url('/fonts/ChosunGs.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'ChosunGsFont';
  src: url('/fonts/ChosunGs.ttf') format('truetype');
  font-weight: bold;
  font-style: normal;
  font-display: swap;
}

/* 조선굵은명조체 폰트 정의 (절대경로) */
@font-face {
  font-family: 'ChosunKmFont';
  src: url('/fonts/ChosunKm.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'ChosunKmFont';
  src: url('/fonts/ChosunKm.ttf') format('truetype');
  font-weight: bold;
  font-style: normal;
  font-display: swap;
}

:root {
  /* 간지 폰트 CSS 변수 - 조선굵은명조체 기본 */
  --ganji-font-family: 'ChosunKmFont', -apple-system, sans-serif;
  
  /* 모던한 중성 팔레트 - 따뜻한 회색 기반 */
  --background: 36 15% 94%;     /* 따뜻한 회색 배경 #F3F0EC */
  --foreground: 25 8% 18%;      /* 깊은 차콜 타이포 #2E2A27 */
  --card: 0 0% 100%;            /* 깔끔한 카드 배경 */
  --card-foreground: 25 8% 18%;
  --popover: 0 0% 100%;
  --popover-foreground: 25 8% 18%;
  --primary: 30 33% 56%;        /* 점토색 기본 #B78B66 */
  --primary-foreground: 0 0% 100%;
  --primary-border: 30 33% 56%;
  --secondary: 146 16% 55%;     /* 세이지 그린 액센트 #7D9C88 */
  --secondary-foreground: 0 0% 100%;
  --secondary-border: 146 16% 55%;
  --muted: 36 10% 90%;          /* 부드러운 뮤트 배경 */
  --muted-foreground: 25 8% 45%;
  --accent: 220 22% 52%;        /* 인디고 액센트 #677B9C */
  --accent-foreground: 0 0% 100%;
  --destructive: 0 70% 55%;
  --destructive-foreground: 0 0% 100%;
  --destructive-border: 0 70% 55%;
  --border: 36 8% 85%;          /* 부드러운 사암색 구분선 #DAD1C7 */
  --input: 36 8% 88%;
  --ring: 30 33% 56%;
  --chart-1: 12 76% 61%;
  --chart-2: 173 58% 39%;
  --chart-3: 197 37% 24%;
  --chart-4: 43 74% 66%;
  --chart-5: 27 87% 67%;
  --radius: 0.75rem;            /* 더 모던한 라운드 모서리 */
  
  /* 새로운 디자인 시스템 색상 */
  --saju-header-bg: 36 12% 96%; /* 헤더 배경 */
  --bottom-nav-bg: 36 12% 96%;  /* 하단 네비 배경 */
  --name-card-bg: 0 0% 100%;    /* 이름 카드 배경 */
  --clock-bg: 146 20% 92%;      /* 만세력 시계 배경 */
  
  /* 간지 오행 색상 (라이트 모드) */
  --ganji-wood: 120 30% 85%;    /* 목(갑을인묘) */
  --ganji-fire: 0 40% 85%;      /* 화(병정사오) */
  --ganji-earth: 45 40% 88%;    /* 토(무기진미술축) */
  --ganji-metal: 0 0% 92%;      /* 금(경신신유) */
  --ganji-water: 210 30% 85%;   /* 수(임계해자) */
}

.dark {
  /* 다크모드 모던 중성 팔레트 */
  --background: 25 12% 10%;        /* 따뜻한 어두운 배경 */
  --foreground: 36 8% 90%;         /* 부드러운 밝은 텍스트 */
  --card: 25 15% 12%;              /* 카드 배경 */
  --card-foreground: 36 8% 90%;
  --popover: 25 15% 12%;
  --popover-foreground: 36 8% 90%;
  --primary: 30 33% 56%;           /* 점토색 기본 유지 */
  --primary-foreground: 0 0% 100%;
  --primary-border: 30 33% 56%;
  --secondary: 146 16% 45%;        /* 어두운 세이지 그린 */
  --secondary-foreground: 0 0% 100%;
  --secondary-border: 146 16% 45%;
  --muted: 25 8% 18%;              /* 뮤트 배경 */
  --muted-foreground: 36 8% 70%;
  --accent: 220 22% 52%;           /* 인디고 액센트 유지 */
  --accent-foreground: 0 0% 100%;
  --destructive: 0 70% 55%;
  --destructive-foreground: 0 0% 100%;
  --destructive-border: 0 70% 55%;
  --border: 25 12% 20%;            /* 부드러운 어두운 테두리 */
  --input: 25 12% 22%;
  --ring: 30 33% 56%;
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;
  
  /* 다크모드 새로운 디자인 시스템 색상 */
  --saju-header-bg: 25 15% 12%;    /* 헤더 배경 */
  --bottom-nav-bg: 25 15% 12%;     /* 하단 네비 배경 */
  --name-card-bg: 25 15% 14%;      /* 이름 카드 배경 */
  --clock-bg: 146 20% 15%;         /* 만세력 시계 배경 */
  
  /* 간지 오행 색상 (다크 모드) */
  --ganji-wood: 120 25% 25%;       /* 목(갑을인묘) */
  --ganji-fire: 0 30% 25%;         /* 화(병정사오) */
  --ganji-earth: 45 25% 25%;       /* 토(무기진미술축) */
  --ganji-metal: 0 0% 30%;         /* 금(경신신유) */
  --ganji-water: 210 25% 25%;      /* 수(임계해자) */

  --opaque-button-border-intensity: 9;  /* In terms of percentages */

  /* Backgrounds applied on top of other backgrounds when hovered/active */
  --elevate-1: rgba(255,255,255, .04);
  --elevate-2: rgba(255,255,255, .09);

  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.15);
  --shadow-xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.20);
  --shadow-sm: 0px 1px 2px 0px hsl(0 0% 0% / 0.20), 0px 1px 3px -1px hsl(0 0% 0% / 0.25);
  --shadow: 0px 1px 3px 0px hsl(0 0% 0% / 0.25), 0px 1px 2px -1px hsl(0 0% 0% / 0.20);
  --shadow-md: 0px 4px 6px -1px hsl(0 0% 0% / 0.25), 0px 2px 4px -2px hsl(0 0% 0% / 0.20);
  --shadow-lg: 0px 10px 15px -3px hsl(0 0% 0% / 0.25), 0px 4px 6px -4px hsl(0 0% 0% / 0.20);
  --shadow-xl: 0px 20px 25px -5px hsl(0 0% 0% / 0.25), 0px 8px 10px -6px hsl(0 0% 0% / 0.20);
  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.35);

}

@layer base {
  * {
    @apply border-border;
  }

  html,
  body,
  #root {
    height: 100%;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }

  /* 스크롤바 숨기기 */
  ::-webkit-scrollbar {
    display: none;
  }
  
  * {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
}

/**
 * Using the elevate system.
 * Automatic contrast adjustment.
 *
 * <element className="hover-elevate" />
 * <element className="active-elevate-2" />
 *
 * // Using the tailwind utility when a data attribute is "on"
 * <element className="toggle-elevate data-[state=on]:toggle-elevated" />
 * // Or manually controlling the toggle state
 * <element className="toggle-elevate toggle-elevated" />
 *
 * Elevation systems have to handle many states.
 * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)
 * - toggled or not
 * - focused or not (this is not handled with these utilities)
 *
 * Even without handling focused or not, this is six possible combinations that
 * need to be distinguished from eachother visually.
 */
@layer utilities {

  /* Hide ugly search cancel button in Chrome until we can style it properly */
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  /* Placeholder styling for contentEditable div */
  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of
   * buttons/badges can remove the automatic brightness adjustment on interactions
   * and program their own. */
  .no-default-hover-elevate {}

  .no-default-active-elevate {}


  /**
   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.
   * This way they can stack/compound. Both will overlap the parent's borders!
   * So borders will be automatically adjusted both on toggle, and hover/active,
   * and they will be compounded.
   */
  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: -1;
    /* sits behind content but above backdrop */
  }

  .toggle-elevate.toggle-elevated::before {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.toggle-elevate::before {
    inset: -1px;
  }

  /* Does not work on elements with overflow:hidden! */
  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) {
    position: relative;
    z-index: 0;
  }

  .hover-elevate:not(.no-default-hover-elevate)::after,
  .active-elevate:not(.no-default-active-elevate)::after,
  .hover-elevate-2:not(.no-default-hover-elevate)::after,
  .active-elevate-2:not(.no-default-active-elevate)::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: 999;
    /* sits in front of content */
  }

  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-1);
  }

  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {
    inset: -1px;
  }

  /* 한자 폰트 클래스 */
  .font-ganji {
    font-family: 'ChosunGanjiFont', 'ChosunKim', serif !important;
  }
  
  .ganji-font {
    font-family: 'ChosunGanjiFont', 'ChosunKim', serif !important;
  }

  /* 한자(간지) 폰트만 사용자 설정 적용, body는 시스템 기본 폰트 */
  .font-ganji-data {
    font-family: var(--ganji-font-family);
  }
}